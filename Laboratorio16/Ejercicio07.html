<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 07 - Laboratorio 16</title>
</head>
<body>
    <form>
        <input type="text" placeholder="Añadir elemento">
        <button type="submit">Añadir</button>
    </form>

    <ul></ul>

    <script>
        const form = document.querySelector("form")
        const ul = document.querySelector("ul")
        const input = document.querySelector("input")

        function actualizarBoton() {
            ul.querySelectorAll("button").forEach(btn => btn.remove())

            const lastLi = ul.lastElementChild
            if (!lastLi) return

            const btn = document.createElement("button")
            btn.textContent = "Eliminar"

            btn.addEventListener("click", () => {
                ul.removeChild(lastLi)
                actualizarBoton()
            })
            
            lastLi.appendChild(btn)
        }

        form.addEventListener("submit", (e) => {
            e.preventDefault()
            if (input.value.trim() === "") return

            const li = document.createElement("li")
            li.textContent = input.value + " "

            ul.appendChild(li)
            actualizarBoton()
            input.value = ""
        })
    </script>
</body>
</html>